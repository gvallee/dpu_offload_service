<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Infrastructure for DPU offloading: /home/gvallee/Projects/DPU_offloading/dpu_offload_service/include/dpu_offload_event_channels.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Infrastructure for DPU offloading
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dpu_offload_event_channels.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dpu__offload__types_8h_source.html">dpu_offload_types.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dpu_offload_event_channels.h:</div>
<div class="dyncontent">
<div class="center"><img src="dpu__offload__event__channels_8h__incl.png" border="0" usemap="#a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__event__channels_8h" alt=""/></div>
<map name="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__event__channels_8h" id="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__event__channels_8h">
<area shape="rect" title=" " alt="" coords="259,5,465,76"/>
<area shape="rect" title=" " alt="" coords="5,124,92,151"/>
<area shape="rect" title=" " alt="" coords="95,273,165,300"/>
<area shape="rect" title=" " alt="" coords="1230,273,1297,300"/>
<area shape="rect" href="dpu__offload__types_8h.html" title=" " alt="" coords="519,124,672,151"/>
<area shape="rect" title=" " alt="" coords="554,199,637,225"/>
<area shape="rect" title=" " alt="" coords="661,199,745,225"/>
<area shape="rect" title=" " alt="" coords="189,273,340,300"/>
<area shape="rect" title=" " alt="" coords="769,199,939,225"/>
<area shape="rect" title=" " alt="" coords="963,199,1033,225"/>
<area shape="rect" href="dynamic__structs_8h.html" title=" " alt="" coords="389,199,530,225"/>
<area shape="rect" href="dpu__offload__common_8h.html" title=" " alt="" coords="1057,199,1232,225"/>
<area shape="rect" href="dpu__offload__utils_8h.html" title=" " alt="" coords="168,199,313,225"/>
<area shape="rect" title=" " alt="" coords="559,273,634,300"/>
<area shape="rect" title=" " alt="" coords="658,273,733,300"/>
<area shape="rect" title=" " alt="" coords="757,273,828,300"/>
<area shape="rect" title=" " alt="" coords="852,273,923,300"/>
<area shape="rect" title=" " alt="" coords="365,273,535,300"/>
<area shape="rect" title=" " alt="" coords="1091,273,1199,300"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="dpu__offload__event__channels_8h__dep__incl.png" border="0" usemap="#a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__event__channels_8hdep" alt=""/></div>
<map name="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__event__channels_8hdep" id="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__event__channels_8hdep">
<area shape="rect" title=" " alt="" coords="513,5,720,76"/>
<area shape="rect" href="dpu__offload__service__daemon_8h.html" title=" " alt="" coords="273,124,480,195"/>
<area shape="rect" href="dpu__offload__event__channels_8c.html" title=" " alt="" coords="471,347,693,417"/>
<area shape="rect" href="dpu__offload__service__daemon_8c.html" title=" " alt="" coords="180,347,413,417"/>
<area shape="rect" href="inter__dpus__comm_8c.html" title=" " alt="" coords="28,243,259,299"/>
<area shape="rect" href="dpu__offload__ops_8c.html" title=" " alt="" coords="655,131,875,187"/>
<area shape="rect" href="dpu__offload__utils_8c.html" title=" " alt="" coords="899,131,1124,187"/>
<area shape="rect" href="dpu__offload__xgvmi_8c.html" title=" " alt="" coords="1148,131,1387,187"/>
<area shape="rect" href="dpu__offload__comms_8h.html" title=" " alt="" coords="333,243,580,299"/>
</map>
</div>
</div>
<p><a href="dpu__offload__event__channels_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af788160b53a4cc9388bfab088d0478b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#af788160b53a4cc9388bfab088d0478b8">DPU_OFFLOAD_EVENT_CHANNELS_H_</a></td></tr>
<tr class="separator:af788160b53a4cc9388bfab088d0478b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f82ad234cccf87b11e6fd7694a6965c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a8f82ad234cccf87b11e6fd7694a6965c">QUEUE_EVENT</a>(__ev)</td></tr>
<tr class="separator:a8f82ad234cccf87b11e6fd7694a6965c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d2b25deef2b1fb755cb5a97dc25efb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a67d2b25deef2b1fb755cb5a97dc25efb">QUEUE_SUBEVENT</a>(_metaev,  _ev)</td></tr>
<tr class="separator:a67d2b25deef2b1fb755cb5a97dc25efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083645e138fd681eb6cf09538af6b5f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a083645e138fd681eb6cf09538af6b5f9">COMPLETE_EVENT</a>(__ev)</td></tr>
<tr class="separator:a083645e138fd681eb6cf09538af6b5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aebd4c0eb1ef8059fc464c898123a3241"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#aebd4c0eb1ef8059fc464c898123a3241">do_am_send_event_msg</a> (<a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *event)</td></tr>
<tr class="separator:aebd4c0eb1ef8059fc464c898123a3241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add83982ed557bb91e9377b1006c50f71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#add83982ed557bb91e9377b1006c50f71">event_channels_init</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *)</td></tr>
<tr class="separator:add83982ed557bb91e9377b1006c50f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850ed9e500e59b08766af2f19b9c75a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a850ed9e500e59b08766af2f19b9c75a6">ev_channels_init</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> **ev_channels)</td></tr>
<tr class="separator:a850ed9e500e59b08766af2f19b9c75a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65550988367c96c6dd7728c2680b0128"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a65550988367c96c6dd7728c2680b0128">event_channels_fini</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> **)</td></tr>
<tr class="separator:a65550988367c96c6dd7728c2680b0128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61034ff650b8b533efcb66f505b96e41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a61034ff650b8b533efcb66f505b96e41">event_channel_register</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *ev_sys, uint64_t type, <a class="el" href="dpu__offload__types_8h.html#ad1af340e916dc299527aa2467e0fe11e">notification_cb</a> cb, <a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *info)</td></tr>
<tr class="memdesc:a61034ff650b8b533efcb66f505b96e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a handler in the context of an event system for a specific type of notifications. Only one handler can be registered per notification type. If registration is performed multiple times, only the first one is active. Updates are possible using the event_channel_update function. It is safe to emit a new event from a handler. Note: the function assumes the event system is locked before it is invoked.  <a href="dpu__offload__event__channels_8h.html#a61034ff650b8b533efcb66f505b96e41">More...</a><br /></td></tr>
<tr class="separator:a61034ff650b8b533efcb66f505b96e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab47c543d6d2e49e08f9065d81b5f5c88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#ab47c543d6d2e49e08f9065d81b5f5c88">event_channel_update</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *ev_sys, uint64_t type, <a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *info)</td></tr>
<tr class="separator:ab47c543d6d2e49e08f9065d81b5f5c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5122efac21dc7e1776b970678b976dec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a5122efac21dc7e1776b970678b976dec">event_channel_deregister</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *ev_sys, uint64_t type)</td></tr>
<tr class="separator:a5122efac21dc7e1776b970678b976dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed2795670d13390a8ead110720a53d2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a3ed2795670d13390a8ead110720a53d2">get_notif_buf</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *ev_sys, uint64_t type)</td></tr>
<tr class="separator:a3ed2795670d13390a8ead110720a53d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b23f567a5986ccd8052e377d79bd12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__types_8h.html#a6baa2472eb41dbe0eb5a189ea95ba028">notification_callback_entry_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a74b23f567a5986ccd8052e377d79bd12">get_notif_callback_entry</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *ev_sys, uint64_t type)</td></tr>
<tr class="separator:a74b23f567a5986ccd8052e377d79bd12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa967e7476ed48dbe67352520e84d49a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#aaa967e7476ed48dbe67352520e84d49a">engine_register_default_notification_handler</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, uint64_t type, <a class="el" href="dpu__offload__types_8h.html#ad1af340e916dc299527aa2467e0fe11e">notification_cb</a> cb, <a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *info)</td></tr>
<tr class="memdesc:aaa967e7476ed48dbe67352520e84d49a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a default handler at the engine level. After the registration, the handler will be automatically added to all execution context that will be created. It is not applied to execution contexts that were already previously created. The default handlers cannot be deregistered.  <a href="dpu__offload__event__channels_8h.html#aaa967e7476ed48dbe67352520e84d49a">More...</a><br /></td></tr>
<tr class="separator:aaa967e7476ed48dbe67352520e84d49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8714b7c46a3bb16c0ec9f5154cfd028"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#ad8714b7c46a3bb16c0ec9f5154cfd028">engine_update_default_notification_handler</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, uint64_t type, <a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *info)</td></tr>
<tr class="separator:ad8714b7c46a3bb16c0ec9f5154cfd028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ce0df36bdf499f89d41954d6fb54e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#aa8ce0df36bdf499f89d41954d6fb54e4">event_channel_emit</a> (<a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **ev, uint64_t type, ucp_ep_h dest_ep, uint64_t dest_id, void *ctx)</td></tr>
<tr class="memdesc:aa8ce0df36bdf499f89d41954d6fb54e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">event_channel_emit triggers the communication associated to a previously locally defined event.  <a href="dpu__offload__event__channels_8h.html#aa8ce0df36bdf499f89d41954d6fb54e4">More...</a><br /></td></tr>
<tr class="separator:aa8ce0df36bdf499f89d41954d6fb54e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b12cc07128e306a3695b7635cf45c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a69b12cc07128e306a3695b7635cf45c4">event_channel_emit_with_payload</a> (<a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **ev, uint64_t type, ucp_ep_h dest_ep, uint64_t dest_id, void *ctx, void *payload, size_t payload_size)</td></tr>
<tr class="memdesc:a69b12cc07128e306a3695b7635cf45c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">event_channel_emit_with_payload triggers the communication associated to a previously locally defined event, specifying a payload to be sent during the emit. This function assumes the caller is responsible for the management of the payload buffer, which must remain available until the event completes.  <a href="dpu__offload__event__channels_8h.html#a69b12cc07128e306a3695b7635cf45c4">More...</a><br /></td></tr>
<tr class="separator:a69b12cc07128e306a3695b7635cf45c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1348121c28743b2234170d1c44cf7f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#ad1348121c28743b2234170d1c44cf7f8">event_get</a> (<a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *ev_sys, <a class="el" href="dpu__offload__types_8h.html#aac0b90f0afd2b42e7d4a913e31b42ce9">dpu_offload_event_info_t</a> *info, <a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **ev)</td></tr>
<tr class="memdesc:ad1348121c28743b2234170d1c44cf7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an event from a pool of event. Using a pool of events prevents dynamic allocations.  <a href="dpu__offload__event__channels_8h.html#ad1348121c28743b2234170d1c44cf7f8">More...</a><br /></td></tr>
<tr class="separator:ad1348121c28743b2234170d1c44cf7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54552201c1f8dae12adacff5273e8721"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a54552201c1f8dae12adacff5273e8721">event_return</a> (<a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **ev)</td></tr>
<tr class="memdesc:a54552201c1f8dae12adacff5273e8721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an event once completed.  <a href="dpu__offload__event__channels_8h.html#a54552201c1f8dae12adacff5273e8721">More...</a><br /></td></tr>
<tr class="separator:a54552201c1f8dae12adacff5273e8721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19cbd071483c81c1ae832985dae1c9b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#a19cbd071483c81c1ae832985dae1c9b5">event_completed</a> (<a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *ev)</td></tr>
<tr class="memdesc:a19cbd071483c81c1ae832985dae1c9b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">event_completed is a helper function to check whether an event is completed The function is aware of sub-events. If all the sub-events are completed and the request of the event is NULL, the event is reported as completed. The caller is responsible for returning the event when reported as completed.  <a href="dpu__offload__event__channels_8h.html#a19cbd071483c81c1ae832985dae1c9b5">More...</a><br /></td></tr>
<tr class="separator:a19cbd071483c81c1ae832985dae1c9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b40147fc8e014a5e7437e93109ee06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__event__channels_8h.html#ad7b40147fc8e014a5e7437e93109ee06">send_term_msg</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *ctx, <a class="el" href="dpu__offload__types_8h.html#a16e41da3d1aff32f8f9bee0167811a32">dest_client_t</a> *dest_info)</td></tr>
<tr class="separator:ad7b40147fc8e014a5e7437e93109ee06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a083645e138fd681eb6cf09538af6b5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a083645e138fd681eb6cf09538af6b5f9">&#9670;&nbsp;</a></span>COMPLETE_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMPLETE_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__ev</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>                                                                \</div>
<div class="line">    {                                                                 \</div>
<div class="line">        (__ev)-&gt;ctx.complete = <span class="keyword">true</span>;                                  \</div>
<div class="line">        if ((__ev)-&gt;ctx.completion_cb != NULL)                        \</div>
<div class="line">        {                                                             \</div>
<div class="line">            (__ev)-&gt;ctx.completion_cb((__ev)-&gt;ctx.completion_cb_ctx); \</div>
<div class="line">            (__ev)-&gt;ctx.completion_cb = NULL;                         \</div>
<div class="line">        }                                                             \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af788160b53a4cc9388bfab088d0478b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af788160b53a4cc9388bfab088d0478b8">&#9670;&nbsp;</a></span>DPU_OFFLOAD_EVENT_CHANNELS_H_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DPU_OFFLOAD_EVENT_CHANNELS_H_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f82ad234cccf87b11e6fd7694a6965c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f82ad234cccf87b11e6fd7694a6965c">&#9670;&nbsp;</a></span>QUEUE_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QUEUE_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__ev</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>                                                                               \</div>
<div class="line">    {                                                                                \</div>
<div class="line">        if ((__ev)-&gt;explicit_return)                                                 \</div>
<div class="line">        {                                                                            \</div>
<div class="line">            <span class="comment">/* The event is flagged for manual management, do not queue */</span>           \</div>
<div class="line">        }                                                                            \</div>
<div class="line">        else                                                                         \</div>
<div class="line">        {                                                                            \</div>
<div class="line">            if ((__ev)-&gt;is_subevent == <span class="keyword">false</span>)                                        \</div>
<div class="line">            {                                                                        \</div>
<div class="line">                assert((__ev)-&gt;is_ongoing_event == <span class="keyword">false</span>);                           \</div>
<div class="line">                ucs_list_add_tail(&amp;((__ev)-&gt;event_system-&gt;econtext-&gt;ongoing_events), \</div>
<div class="line">                                  &amp;((__ev)-&gt;item));                                  \</div>
<div class="line">                (__ev)-&gt;is_ongoing_event = <span class="keyword">true</span>;                                     \</div>
<div class="line">            }                                                                        \</div>
<div class="line">        }                                                                            \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a67d2b25deef2b1fb755cb5a97dc25efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d2b25deef2b1fb755cb5a97dc25efb">&#9670;&nbsp;</a></span>QUEUE_SUBEVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QUEUE_SUBEVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_metaev, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_ev&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>                                                                \</div>
<div class="line">    {                                                                 \</div>
<div class="line">        assert((_ev)-&gt;is_subevent == <span class="keyword">true</span>);                           \</div>
<div class="line">        assert((_ev)-&gt;is_ongoing_event == <span class="keyword">false</span>);                     \</div>
<div class="line">        if (!(_metaev)-&gt;sub_events_initialized)                       \</div>
<div class="line">        {                                                             \</div>
<div class="line">            ucs_list_head_init(&amp;((_metaev)-&gt;sub_events));             \</div>
<div class="line">            (_metaev)-&gt;sub_events_initialized = <span class="keyword">true</span>;                 \</div>
<div class="line">        }                                                             \</div>
<div class="line">        ucs_list_add_tail(&amp;((_metaev)-&gt;sub_events), &amp;((_ev)-&gt;item));  \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aebd4c0eb1ef8059fc464c898123a3241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd4c0eb1ef8059fc464c898123a3241">&#9670;&nbsp;</a></span>do_am_send_event_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_am_send_event_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaa967e7476ed48dbe67352520e84d49a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa967e7476ed48dbe67352520e84d49a">&#9670;&nbsp;</a></span>engine_register_default_notification_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> engine_register_default_notification_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ad1af340e916dc299527aa2467e0fe11e">notification_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a default handler at the engine level. After the registration, the handler will be automatically added to all execution context that will be created. It is not applied to execution contexts that were already previously created. The default handlers cannot be deregistered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine</td><td>Engine to which the default handler applies. </td></tr>
    <tr><td class="paramname">type</td><td>Event type, i.e., identifier of the callback to invoke when the event is delivered at destination. </td></tr>
    <tr><td class="paramname">cb</td><td>Callback to invoke upon reception of the notification. </td></tr>
    <tr><td class="paramname">info</td><td>Optional information related to the handling of the notification (can be set to NULL). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="ad8714b7c46a3bb16c0ec9f5154cfd028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8714b7c46a3bb16c0ec9f5154cfd028">&#9670;&nbsp;</a></span>engine_update_default_notification_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> engine_update_default_notification_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a850ed9e500e59b08766af2f19b9c75a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850ed9e500e59b08766af2f19b9c75a6">&#9670;&nbsp;</a></span>ev_channels_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> ev_channels_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> **&#160;</td>
          <td class="paramname"><em>ev_channels</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5122efac21dc7e1776b970678b976dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5122efac21dc7e1776b970678b976dec">&#9670;&nbsp;</a></span>event_channel_deregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> event_channel_deregister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *&#160;</td>
          <td class="paramname"><em>ev_sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8ce0df36bdf499f89d41954d6fb54e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ce0df36bdf499f89d41954d6fb54e4">&#9670;&nbsp;</a></span>event_channel_emit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_channel_emit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucp_ep_h&#160;</td>
          <td class="paramname"><em>dest_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>event_channel_emit triggers the communication associated to a previously locally defined event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>Event to be emitted. The object needs to be fully initialized prior the invokation of the function (see '<a class="el" href="dpu__offload__event__channels_8h.html#ad1348121c28743b2234170d1c44cf7f8" title="Get an event from a pool of event. Using a pool of events prevents dynamic allocations.">event_get()</a>' and '<a class="el" href="dpu__offload__event__channels_8h.html#a54552201c1f8dae12adacff5273e8721" title="Return an event once completed.">event_return()</a>'). </td></tr>
    <tr><td class="paramname">type</td><td>Event type, i.e., identifier of the callback to invoke when the event is delivered at destination. </td></tr>
    <tr><td class="paramname">dest_id</td><td>The unique identifier to be used to send the event. It is used to identify the source of the event. </td></tr>
    <tr><td class="paramname">dest_ep</td><td>Endpoint of the target of the event. </td></tr>
    <tr><td class="paramname">ctx</td><td>User-defined context to help identify the context of the event upon local completion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of UCS_PTR_STATUS in the context of errors, </dd>
<dd>
EVENT_DONE if the emittion completed right away, </dd>
<dd>
EVENT_INPROGRESS if emitting the event is still in progress (e.g., communication not completed).</dd></dl>
<p>One can check on completion using ev-&gt;req. </p>

</div>
</div>
<a id="a69b12cc07128e306a3695b7635cf45c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b12cc07128e306a3695b7635cf45c4">&#9670;&nbsp;</a></span>event_channel_emit_with_payload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int event_channel_emit_with_payload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **&#160;</td>
          <td class="paramname"><em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucp_ep_h&#160;</td>
          <td class="paramname"><em>dest_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>event_channel_emit_with_payload triggers the communication associated to a previously locally defined event, specifying a payload to be sent during the emit. This function assumes the caller is responsible for the management of the payload buffer, which must remain available until the event completes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>Event to be emitted. The object needs to be fully initialized prior the invokation of the function (see '<a class="el" href="dpu__offload__event__channels_8h.html#ad1348121c28743b2234170d1c44cf7f8" title="Get an event from a pool of event. Using a pool of events prevents dynamic allocations.">event_get()</a>' and '<a class="el" href="dpu__offload__event__channels_8h.html#a54552201c1f8dae12adacff5273e8721" title="Return an event once completed.">event_return()</a>'). </td></tr>
    <tr><td class="paramname">type</td><td>Event type, i.e., identifier of the callback to invoke when the event is delivered at destination. </td></tr>
    <tr><td class="paramname">dest_ep</td><td>Endpoint of the target of the event. </td></tr>
    <tr><td class="paramname">dest_id</td><td>The unique identifier to be used to send the event. It is used to identify the source of the event. </td></tr>
    <tr><td class="paramname">ctx</td><td>User-defined context to help identify the context of the event upon local completion. </td></tr>
    <tr><td class="paramname">payload</td><td>User-defined payload associated to the event. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of the user-defined payload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of UCS_PTR_STATUS in the context of errors during communications. </dd>
<dd>
DO_ERROR in case of an error during the library's handling of the event. </dd>
<dd>
EVENT_DONE if the emittion completed right away, the library returns the event. </dd>
<dd>
EVENT_INPROGRESS if emitting the event is still in progress (e.g., communication not completed). One can check on completion using <a class="el" href="dpu__offload__event__channels_8h.html#a19cbd071483c81c1ae832985dae1c9b5" title="event_completed is a helper function to check whether an event is completed The function is aware of ...">event_completed()</a>.</dd></dl>
<p>Example: the user uses the ongoing events list so that the event is implicitly returned when completed, with an event payload managed outside of the offloading library. </p><div class="fragment"><div class="line">dpu_offload_event_t *my_ev;</div>
<div class="line">event_get(ev_sys, NULL, &amp;my_ev);</div>
<div class="line">int rc = event_channel_emit_with_payload(my_ev, my_notification_type, dest_ep, dest_id, NULL, &amp;my_global_static_object, object_size);</div>
<div class="line">if (rc != EVENT_DONE &amp;&amp; rc != EVENT_INPROGRESS) {</div>
<div class="line">    // Event is ongoing, placed on the ongoing event list. The event will be automatically removed from the list and returned during progress of the execution context upon completion.</div>
<div class="line">    ucs_list_add_tail(&amp;(econtext-&gt;ongoing_events), &amp;(myev-&gt;item));</div>
<div class="line">} else {</div>
<div class="line">    // Error case</div>
<div class="line">    return -1;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a61034ff650b8b533efcb66f505b96e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61034ff650b8b533efcb66f505b96e41">&#9670;&nbsp;</a></span>event_channel_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> event_channel_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *&#160;</td>
          <td class="paramname"><em>ev_sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ad1af340e916dc299527aa2467e0fe11e">notification_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a handler in the context of an event system for a specific type of notifications. Only one handler can be registered per notification type. If registration is performed multiple times, only the first one is active. Updates are possible using the event_channel_update function. It is safe to emit a new event from a handler. Note: the function assumes the event system is locked before it is invoked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev_sys</td><td>Event system to use to register the notification handler. </td></tr>
    <tr><td class="paramname">type</td><td>Notification type. </td></tr>
    <tr><td class="paramname">cb</td><td>Callback to invoke upon reception of the notification. </td></tr>
    <tr><td class="paramname">info</td><td>Optional information related to the handling of the notification (can be set to NULL). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="ab47c543d6d2e49e08f9065d81b5f5c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab47c543d6d2e49e08f9065d81b5f5c88">&#9670;&nbsp;</a></span>event_channel_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> event_channel_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *&#160;</td>
          <td class="paramname"><em>ev_sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a9814ec7d07717e4fe56a4083ff5ecce6">notification_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a65550988367c96c6dd7728c2680b0128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65550988367c96c6dd7728c2680b0128">&#9670;&nbsp;</a></span>event_channels_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event_channels_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> **&#160;</td>
          <td class="paramname"><em>ev_sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add83982ed557bb91e9377b1006c50f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add83982ed557bb91e9377b1006c50f71">&#9670;&nbsp;</a></span>event_channels_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> event_channels_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a19cbd071483c81c1ae832985dae1c9b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19cbd071483c81c1ae832985dae1c9b5">&#9670;&nbsp;</a></span>event_completed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool event_completed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>event_completed is a helper function to check whether an event is completed The function is aware of sub-events. If all the sub-events are completed and the request of the event is NULL, the event is reported as completed. The caller is responsible for returning the event when reported as completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>Event to check for completion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when the event is completed </dd>
<dd>
false when the event is still in progress </dd></dl>

</div>
</div>
<a id="ad1348121c28743b2234170d1c44cf7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1348121c28743b2234170d1c44cf7f8">&#9670;&nbsp;</a></span>event_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> event_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *&#160;</td>
          <td class="paramname"><em>ev_sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#aac0b90f0afd2b42e7d4a913e31b42ce9">dpu_offload_event_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an event from a pool of event. Using a pool of events prevents dynamic allocations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev_sys</td><td>The event system from which the event must come from. </td></tr>
    <tr><td class="paramname">info</td><td>Information about the event. For instance, it is possible to ask the library to allocate/free the memory for a payload. See examples for details. </td></tr>
    <tr><td class="paramname">ev</td><td>Returned event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of UCS_PTR_STATUS in the context of errors. </dd>
<dd>
DO_ERROR in case of an error during the library's handling of the event. </dd>
<dd>
EVENT_DONE if the emittion completed right away, the library returns the event. </dd>
<dd>
EVENT_INPROGRESS if emitting the event is still in progress (e.g., communication not completed). One can check on completion using <a class="el" href="dpu__offload__event__channels_8h.html#a19cbd071483c81c1ae832985dae1c9b5" title="event_completed is a helper function to check whether an event is completed The function is aware of ...">event_completed()</a>.</dd></dl>
<p>Examples:</p><ul>
<li>get an event that does not require a payload. <div class="fragment"><div class="line">event_get(ev_sys, NULL, &amp;myev);</div>
</div><!-- fragment --></li>
<li>get and emit an event with a payload that the caller entirely control. <div class="fragment"><div class="line">event_get(ev_sys, NULL, &amp;myev);</div>
<div class="line">int rc = event_channel_emit_with_payload(myev, dest_ep, dest_id, NULL, my_payload, my_payload_size);</div>
<div class="line">if (rc == EVENT_DONE)</div>
<div class="line">{</div>
<div class="line">    // Event completed right away</div>
<div class="line">    free(my_payload);</div>
<div class="line">}</div>
<div class="line">else if (rc != EVENT_INPROGRESS)</div>
<div class="line">    // Error</div>
<div class="line">    return -1;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p>get an event and let the library gives me a buffer for the payload; the library will free the payload when the event is returned. </p><div class="fragment"><div class="line">dpu_offload_event_info_t ev_info = {</div>
<div class="line">    .payload_size = my_payload_size,</div>
<div class="line">};</div>
<div class="line">event_get(ev_sys, &amp;ev_info, &amp;myev);</div>
<div class="line">memcpy(myev-&gt;payload, my_data, sizeof(my_payload_size));</div>
<div class="line">int rc = event_channel_emit(myev, dest_ep, dest_id, NULL);</div>
<div class="line">if (rc != EVENT_DONE &amp;&amp; rc != EVENT_INPROGRESS)</div>
<div class="line">    // Error</div>
<div class="line">    return -1;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a54552201c1f8dae12adacff5273e8721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54552201c1f8dae12adacff5273e8721">&#9670;&nbsp;</a></span>event_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> event_return </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return an event once completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ev</td><td>Pointer to the event to return. The event is set to NULL upon success so the event handle cannot be used anymore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DO_SUCCESS </dd>
<dd>
DO_ERROR </dd></dl>

</div>
</div>
<a id="a3ed2795670d13390a8ead110720a53d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed2795670d13390a8ead110720a53d2">&#9670;&nbsp;</a></span>get_notif_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* get_notif_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *&#160;</td>
          <td class="paramname"><em>ev_sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a74b23f567a5986ccd8052e377d79bd12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b23f567a5986ccd8052e377d79bd12">&#9670;&nbsp;</a></span>get_notif_callback_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__types_8h.html#a6baa2472eb41dbe0eb5a189ea95ba028">notification_callback_entry_t</a>* get_notif_callback_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a3393bcd64add76ae2292d8cb54c16fe6">dpu_offload_ev_sys_t</a> *&#160;</td>
          <td class="paramname"><em>ev_sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad7b40147fc8e014a5e7437e93109ee06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b40147fc8e014a5e7437e93109ee06">&#9670;&nbsp;</a></span>send_term_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> send_term_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a16e41da3d1aff32f8f9bee0167811a32">dest_client_t</a> *&#160;</td>
          <td class="paramname"><em>dest_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
