<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Infrastructure for DPU offloading: /home/gvallee/Projects/DPU_offloading/dpu_offload_service/include/dpu_offload_service_daemon.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Infrastructure for DPU offloading
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dpu_offload_service_daemon.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;netinet/ip.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dpu__offload__types_8h_source.html">dpu_offload_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dpu__offload__event__channels_8h_source.html">dpu_offload_event_channels.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dpu_offload_service_daemon.h:</div>
<div class="dyncontent">
<div class="center"><img src="dpu__offload__service__daemon_8h__incl.png" border="0" usemap="#a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__service__daemon_8h" alt=""/></div>
<map name="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__service__daemon_8h" id="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__service__daemon_8h">
<area shape="rect" title=" " alt="" coords="471,5,678,76"/>
<area shape="rect" title=" " alt="" coords="5,124,101,151"/>
<area shape="rect" title=" " alt="" coords="126,124,229,151"/>
<area shape="rect" title=" " alt="" coords="253,124,323,151"/>
<area shape="rect" title=" " alt="" coords="348,124,444,151"/>
<area shape="rect" title=" " alt="" coords="468,124,564,151"/>
<area shape="rect" title=" " alt="" coords="589,124,681,151"/>
<area shape="rect" title=" " alt="" coords="1043,348,1114,375"/>
<area shape="rect" title=" " alt="" coords="756,273,839,300"/>
<area shape="rect" href="dpu__offload__types_8h.html" title=" " alt="" coords="1209,199,1362,225"/>
<area shape="rect" href="dpu__offload__event__channels_8h.html" title=" " alt="" coords="1749,124,1968,151"/>
<area shape="rect" title=" " alt="" coords="1543,273,1627,300"/>
<area shape="rect" title=" " alt="" coords="1138,348,1289,375"/>
<area shape="rect" title=" " alt="" coords="1651,273,1821,300"/>
<area shape="rect" title=" " alt="" coords="863,273,934,300"/>
<area shape="rect" href="dynamic__structs_8h.html" title=" " alt="" coords="1377,273,1519,300"/>
<area shape="rect" href="dpu__offload__common_8h.html" title=" " alt="" coords="958,273,1133,300"/>
<area shape="rect" href="dpu__offload__utils_8h.html" title=" " alt="" coords="1157,273,1302,300"/>
<area shape="rect" title=" " alt="" coords="1802,348,1873,375"/>
<area shape="rect" title=" " alt="" coords="1703,348,1777,375"/>
<area shape="rect" title=" " alt="" coords="1313,348,1388,375"/>
<area shape="rect" title=" " alt="" coords="1413,348,1483,375"/>
<area shape="rect" title=" " alt="" coords="1897,348,1964,375"/>
<area shape="rect" title=" " alt="" coords="1508,348,1679,375"/>
<area shape="rect" title=" " alt="" coords="911,348,1019,375"/>
<area shape="rect" title=" " alt="" coords="1947,199,2034,225"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="dpu__offload__service__daemon_8h__dep__incl.png" border="0" usemap="#a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__service__daemon_8hdep" alt=""/></div>
<map name="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__service__daemon_8hdep" id="a_2home_2gvallee_2Projects_2DPU__offloading_2dpu__offload__service_2include_2dpu__offload__service__daemon_8hdep">
<area shape="rect" title=" " alt="" coords="265,5,472,76"/>
<area shape="rect" href="dpu__offload__comms_8h.html" title=" " alt="" coords="85,124,332,180"/>
<area shape="rect" href="dpu__offload__service__daemon_8c.html" title=" " alt="" coords="252,228,485,299"/>
<area shape="rect" href="inter__dpus__comm_8c.html" title=" " alt="" coords="407,124,637,180"/>
<area shape="rect" href="dpu__offload__event__channels_8c.html" title=" " alt="" coords="5,228,228,299"/>
</map>
</div>
</div>
<p><a href="dpu__offload__service__daemon_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structucx__context.html">ucx_context</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4946349a0e986801f0da8974b70fba99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a4946349a0e986801f0da8974b70fba99">DAEMON_GET_PEER_EP</a>(_d,  _ep)</td></tr>
<tr class="separator:a4946349a0e986801f0da8974b70fba99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4947f1b6e2aa1fc4762141624cc73edb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a4947f1b6e2aa1fc4762141624cc73edb">SET_DEFAULT_DPU_HOST_SERVER_CALLBACKS</a>(_init_params)</td></tr>
<tr class="separator:a4947f1b6e2aa1fc4762141624cc73edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:add71b2b1c0da610278462e830e29ea0d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#add71b2b1c0da610278462e830e29ea0d">failure_mode_t</a> { <a class="el" href="dpu__offload__service__daemon_8h.html#add71b2b1c0da610278462e830e29ea0da510bbee19faf3198361bfe5da72f3ca2">FAILURE_MODE_NONE</a>
, <a class="el" href="dpu__offload__service__daemon_8h.html#add71b2b1c0da610278462e830e29ea0dafec1fdd3d5712f9caef4a5d384c37dc4">FAILURE_MODE_SEND</a>
, <a class="el" href="dpu__offload__service__daemon_8h.html#add71b2b1c0da610278462e830e29ea0da5fd19af4eafe6659fb86970cb05a9e87">FAILURE_MODE_RECV</a>
, <a class="el" href="dpu__offload__service__daemon_8h.html#add71b2b1c0da610278462e830e29ea0da49223a22d2488fa3794c46c123c1482b">FAILURE_MODE_KEEPALIVE</a>
 }</td></tr>
<tr class="separator:add71b2b1c0da610278462e830e29ea0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1141ba909c1592eee097396845088087"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a1141ba909c1592eee097396845088087">conn_mode_t</a> { <a class="el" href="dpu__offload__service__daemon_8h.html#a1141ba909c1592eee097396845088087ae6c3ddef6bff13bc6a3615753f9cd075">OOB</a>
, <a class="el" href="dpu__offload__service__daemon_8h.html#a1141ba909c1592eee097396845088087ab5be948977760c833ff9b9c9cb068b25">UCX_LISTENER</a>
 }</td></tr>
<tr class="separator:a1141ba909c1592eee097396845088087"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9801a3eb984a376ade72d8a645babb9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a9801a3eb984a376ade72d8a645babb9e">offload_engine_init</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> **engine)</td></tr>
<tr class="separator:a9801a3eb984a376ade72d8a645babb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a974177eef28e5dcdd6be1f88d0aa5c56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a974177eef28e5dcdd6be1f88d0aa5c56">offload_engine_fini</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> **engine)</td></tr>
<tr class="separator:a974177eef28e5dcdd6be1f88d0aa5c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1fe819ca6e425c029b86a8f08818f17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ab1fe819ca6e425c029b86a8f08818f17">offload_engine_progress</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine)</td></tr>
<tr class="memdesc:ab1fe819ca6e425c029b86a8f08818f17"><td class="mdescLeft">&#160;</td><td class="mdescRight">offload_engine_progress progresses the entire offloading engine, i.e., all the associated execution context. It is for instance used to progress all communications between DPUs and ensure completions of ongoing communications.  <a href="dpu__offload__service__daemon_8h.html#ab1fe819ca6e425c029b86a8f08818f17">More...</a><br /></td></tr>
<tr class="separator:ab1fe819ca6e425c029b86a8f08818f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e7f8fb73b9bc3e73bb3cb6351ea09b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ad4e7f8fb73b9bc3e73bb3cb6351ea09b">lib_progress</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *econtext)</td></tr>
<tr class="memdesc:ad4e7f8fb73b9bc3e73bb3cb6351ea09b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Progress the entrie library, i.e., all the engines and execution contexts, based on an execution context.  <a href="dpu__offload__service__daemon_8h.html#ad4e7f8fb73b9bc3e73bb3cb6351ea09b">More...</a><br /></td></tr>
<tr class="separator:ad4e7f8fb73b9bc3e73bb3cb6351ea09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07bde402553cc60ac536d085b3623b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ab07bde402553cc60ac536d085b3623b3">server_init</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *, <a class="el" href="dpu__offload__types_8h.html#a42c35bf5c92dc98cf22a4818b0331608">init_params_t</a> *)</td></tr>
<tr class="memdesc:ab07bde402553cc60ac536d085b3623b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a connection server.  <a href="dpu__offload__service__daemon_8h.html#ab07bde402553cc60ac536d085b3623b3">More...</a><br /></td></tr>
<tr class="separator:ab07bde402553cc60ac536d085b3623b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949a12a76368d6bf6b3242eb2a04a2c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a949a12a76368d6bf6b3242eb2a04a2c3">server_fini</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> **)</td></tr>
<tr class="separator:a949a12a76368d6bf6b3242eb2a04a2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3bf532faf38b7e435cc3d415873d61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ada3bf532faf38b7e435cc3d415873d61">client_init</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, <a class="el" href="dpu__offload__types_8h.html#a42c35bf5c92dc98cf22a4818b0331608">init_params_t</a> *<a class="el" href="structinit__params.html">init_params</a>)</td></tr>
<tr class="memdesc:ada3bf532faf38b7e435cc3d415873d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">client_init creates and returns a new execution context object that can later on be used as a client. Trying to use it as a server is invalid.  <a href="dpu__offload__service__daemon_8h.html#ada3bf532faf38b7e435cc3d415873d61">More...</a><br /></td></tr>
<tr class="separator:ada3bf532faf38b7e435cc3d415873d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b45a31c97a0fc8deccabb2a5290934"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#af2b45a31c97a0fc8deccabb2a5290934">client_fini</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> **ctx)</td></tr>
<tr class="memdesc:af2b45a31c97a0fc8deccabb2a5290934"><td class="mdescLeft">&#160;</td><td class="mdescRight">client_fini finalizes an execution context that is being used as a client. Practically, a termination message is sent to the associated server (if any) vi a notification and the function will block until the notification completes. Then the object is entirely freed. In other words, upon returning from the function, the execution context is guaranteed to have been terminated, completely freed and the potential associated server notified of the termination.  <a href="dpu__offload__service__daemon_8h.html#af2b45a31c97a0fc8deccabb2a5290934">More...</a><br /></td></tr>
<tr class="separator:af2b45a31c97a0fc8deccabb2a5290934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a581d1765c57e7cf80d25d267a4bbcf82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a581d1765c57e7cf80d25d267a4bbcf82">offload_config_free</a> (<a class="el" href="dpu__offload__types_8h.html#a7d930a5e992bf8d542cb50a0f11a6276">offloading_config_t</a> *cfg)</td></tr>
<tr class="separator:a581d1765c57e7cf80d25d267a4bbcf82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfad4821e936b3f3760a01cd2355b7c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#adfad4821e936b3f3760a01cd2355b7c7">inter_dpus_connect_mgr</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *, <a class="el" href="dpu__offload__types_8h.html#a7d930a5e992bf8d542cb50a0f11a6276">offloading_config_t</a> *)</td></tr>
<tr class="separator:adfad4821e936b3f3760a01cd2355b7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852144410c8c918748a57a3897decdc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a852144410c8c918748a57a3897decdc6">send_add_group_rank_request</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *econtext, ucp_ep_h ep, uint64_t dest_id, <a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *e)</td></tr>
<tr class="separator:a852144410c8c918748a57a3897decdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9953edc063b6380e3f06c031d6cda7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ac9953edc063b6380e3f06c031d6cda7a">local_rank_connect_default_callback</a> (void *data)</td></tr>
<tr class="memdesc:ac9953edc063b6380e3f06c031d6cda7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback that servers (service processes acting as servers) on DPUs can set (server-&gt;connected_cb) to have implicit management of caches, especially when all the ranks of the group are on the local host. In such a situation, it will be detected when the last ranks connects, the group cache therefore completes and the cache is then sent back to local ranks.  <a href="dpu__offload__service__daemon_8h.html#ac9953edc063b6380e3f06c031d6cda7a">More...</a><br /></td></tr>
<tr class="separator:ac9953edc063b6380e3f06c031d6cda7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede8b21a0dc08753ab3ce82e868659f3"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#aede8b21a0dc08753ab3ce82e868659f3">LOCAL_ID_TO_GLOBAL</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *econtext, uint64_t local_id)</td></tr>
<tr class="separator:aede8b21a0dc08753ab3ce82e868659f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7742e4694eb2d7cf5c31da86f16e3cb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a7742e4694eb2d7cf5c31da86f16e3cb4">send_group_cache</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *econtext, ucp_ep_h dest, uint64_t dest_id, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> gp_id, <a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *metaev)</td></tr>
<tr class="memdesc:a7742e4694eb2d7cf5c31da86f16e3cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send group cache to a specific destination, mainly used to send the cache back to the local ranks.  <a href="dpu__offload__service__daemon_8h.html#a7742e4694eb2d7cf5c31da86f16e3cb4">More...</a><br /></td></tr>
<tr class="separator:a7742e4694eb2d7cf5c31da86f16e3cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d1309dab51e9eb9223f3b5c26ede6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a40d1309dab51e9eb9223f3b5c26ede6e">send_gp_cache_to_host</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *econtext, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> <a class="el" href="structgroup__id.html">group_id</a>)</td></tr>
<tr class="separator:a40d1309dab51e9eb9223f3b5c26ede6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace43102d89f04437d5e6f942957ae5c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ace43102d89f04437d5e6f942957ae5c5">send_cache</a> (<a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *econtext, <a class="el" href="dpu__offload__types_8h.html#abce0d54f5f8f4c5440cd524a574ad8eb">cache_t</a> *<a class="el" href="structcache.html">cache</a>, ucp_ep_h dest_ep, <a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *meta_event)</td></tr>
<tr class="memdesc:ace43102d89f04437d5e6f942957ae5c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">send_cache sends the content of the local endpoint cache to a specific remote endpoint. This is a non-blocking operation.  <a href="dpu__offload__service__daemon_8h.html#ace43102d89f04437d5e6f942957ae5c5">More...</a><br /></td></tr>
<tr class="separator:ace43102d89f04437d5e6f942957ae5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c848b5937cc663260126f96c91f0213"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a1c848b5937cc663260126f96c91f0213">broadcast_group_cache</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> <a class="el" href="structgroup__id.html">group_id</a>)</td></tr>
<tr class="memdesc:a1c848b5937cc663260126f96c91f0213"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function sends the cache entries for the local ranks of a group to all other DPUs but only if all DPUs are connected, otherwise the broadcast would be incomplete. Remember that all DPU daemons and ranks are initiating connections independently and in parallel, there is not way to predict whether the local ranks will be fully connected before all the DPUs, or the opposite. In other words, when calling the function, it is possible that it would not be possible to perform the broadcast right away. The function checks whether the broadcast can be performed before trying to send the cache. In other words, the broadcast is not initiated if all the DPUs are not locally connected.  <a href="dpu__offload__service__daemon_8h.html#a1c848b5937cc663260126f96c91f0213">More...</a><br /></td></tr>
<tr class="separator:a1c848b5937cc663260126f96c91f0213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3dc37e5abbff121b300126cd9ccd010"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#aa3dc37e5abbff121b300126cd9ccd010">get_sp_id_by_group_rank</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> gp_id, int64_t rank, int64_t sp_idx, int64_t *sp_id, <a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **ev)</td></tr>
<tr class="memdesc:aa3dc37e5abbff121b300126cd9ccd010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the service process ID by host rank object. That ID can then be used to look up the corresponding endpoint.  <a href="dpu__offload__service__daemon_8h.html#aa3dc37e5abbff121b300126cd9ccd010">More...</a><br /></td></tr>
<tr class="separator:aa3dc37e5abbff121b300126cd9ccd010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b16233c24e29ad253bd52b7deefb0b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a9b16233c24e29ad253bd52b7deefb0b0">get_cache_entry_by_group_rank</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> gp_id, int64_t rank, int64_t sp_idx, <a class="el" href="dpu__offload__types_8h.html#a576c274d9379aaaedee8b57db966cf7e">request_compl_cb_t</a> cb)</td></tr>
<tr class="memdesc:a9b16233c24e29ad253bd52b7deefb0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the dpu ID by host rank object. That ID can then be used to look up the corresponding endpoint.  <a href="dpu__offload__service__daemon_8h.html#a9b16233c24e29ad253bd52b7deefb0b0">More...</a><br /></td></tr>
<tr class="separator:a9b16233c24e29ad253bd52b7deefb0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4aff8e3c464f8b089d7975242f75bc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ae4aff8e3c464f8b089d7975242f75bc0">get_sp_ep_by_id</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, uint64_t sp_id, ucp_ep_h *sp_ep, <a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> **econtext_comm, uint64_t *comm_id)</td></tr>
<tr class="memdesc:ae4aff8e3c464f8b089d7975242f75bc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the service process endpoint by ID object, i.e., the identifier returned by get_sp_id_by_host_rank.  <a href="dpu__offload__service__daemon_8h.html#ae4aff8e3c464f8b089d7975242f75bc0">More...</a><br /></td></tr>
<tr class="separator:ae4aff8e3c464f8b089d7975242f75bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06f8a0c90607ebea8c425de3b0fb06e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#af06f8a0c90607ebea8c425de3b0fb06e">group_cache_populated</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> gp_id)</td></tr>
<tr class="separator:af06f8a0c90607ebea8c425de3b0fb06e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ababa1a6787751964f2e3bf4fb2cbc63e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ababa1a6787751964f2e3bf4fb2cbc63e">is_in_cache</a> (<a class="el" href="dpu__offload__types_8h.html#abce0d54f5f8f4c5440cd524a574ad8eb">cache_t</a> *<a class="el" href="structcache.html">cache</a>, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> gp_id, int64_t rank_id, int64_t group_size)</td></tr>
<tr class="separator:ababa1a6787751964f2e3bf4fb2cbc63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687e36319fed4161471477ffbeedcf34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a687e36319fed4161471477ffbeedcf34">get_server_servicing_host</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine)</td></tr>
<tr class="separator:a687e36319fed4161471477ffbeedcf34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7840a760be9d412387952227501dd14b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a7840a760be9d412387952227501dd14b">get_local_service_proc_connect_info</a> (<a class="el" href="dpu__offload__types_8h.html#a7d930a5e992bf8d542cb50a0f11a6276">offloading_config_t</a> *cfg, <a class="el" href="dpu__offload__types_8h.html#a6846f687a61323898ab2f6903ca8766e">rank_info_t</a> *<a class="el" href="structrank__info.html">rank_info</a>, <a class="el" href="dpu__offload__types_8h.html#a42c35bf5c92dc98cf22a4818b0331608">init_params_t</a> *<a class="el" href="structinit__params.html">init_params</a>)</td></tr>
<tr class="separator:a7840a760be9d412387952227501dd14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d70272c1c34ed070381dc824f179d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a10d70272c1c34ed070381dc824f179d7">get_num_connecting_ranks</a> (uint64_t num_service_procs_per_dpu, int64_t n_local_ranks, uint64_t sp_lid, uint64_t *n_ranks)</td></tr>
<tr class="separator:a10d70272c1c34ed070381dc824f179d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f8472010129e59c70487e739f61509"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#ae7f8472010129e59c70487e739f61509">all_service_procs_connected</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine)</td></tr>
<tr class="separator:ae7f8472010129e59c70487e739f61509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b749bfa0f93af078b1a241de3ff28a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dpu__offload__service__daemon_8h.html#a03b749bfa0f93af078b1a241de3ff28a">forward_cache_entry_to_local_sps</a> (<a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *engine, <a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> *gp_id)</td></tr>
<tr class="separator:a03b749bfa0f93af078b1a241de3ff28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4946349a0e986801f0da8974b70fba99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4946349a0e986801f0da8974b70fba99">&#9670;&nbsp;</a></span>DAEMON_GET_PEER_EP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAEMON_GET_PEER_EP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_d, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_ep&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ({ \</div>
<div class="line">    if (_d-&gt;type == DAEMON_CLIENT)     \</div>
<div class="line">    {                                  \</div>
<div class="line">        _ep = _d-&gt;client-&gt;server_ep;   \</div>
<div class="line">    }                                  \</div>
<div class="line">    else                               \</div>
<div class="line">    {                                  \</div>
<div class="line">        _ep = _d-&gt;server-&gt;client_ep;   \</div>
<div class="line">    }                                  \</div>
<div class="line">})</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4947f1b6e2aa1fc4762141624cc73edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4947f1b6e2aa1fc4762141624cc73edb">&#9670;&nbsp;</a></span>SET_DEFAULT_DPU_HOST_SERVER_CALLBACKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_DEFAULT_DPU_HOST_SERVER_CALLBACKS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_init_params</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span>                                                                      \</div>
<div class="line">    {                                                                       \</div>
<div class="line">        (_init_params)-&gt;connected_cb = <a class="code" href="dpu__offload__service__daemon_8h.html#ac9953edc063b6380e3f06c031d6cda7a">local_rank_connect_default_callback</a>; \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="adpu__offload__service__daemon_8h_html_ac9953edc063b6380e3f06c031d6cda7a"><div class="ttname"><a href="dpu__offload__service__daemon_8h.html#ac9953edc063b6380e3f06c031d6cda7a">local_rank_connect_default_callback</a></div><div class="ttdeci">void local_rank_connect_default_callback(void *data)</div><div class="ttdoc">callback that servers (service processes acting as servers) on DPUs can set (server-&gt;connected_cb) to...</div><div class="ttdef"><b>Definition:</b> dpu_offload_service_daemon.c:1296</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1141ba909c1592eee097396845088087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1141ba909c1592eee097396845088087">&#9670;&nbsp;</a></span>conn_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dpu__offload__service__daemon_8h.html#a1141ba909c1592eee097396845088087">conn_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1141ba909c1592eee097396845088087ae6c3ddef6bff13bc6a3615753f9cd075"></a>OOB&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1141ba909c1592eee097396845088087ab5be948977760c833ff9b9c9cb068b25"></a>UCX_LISTENER&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="add71b2b1c0da610278462e830e29ea0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add71b2b1c0da610278462e830e29ea0d">&#9670;&nbsp;</a></span>failure_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dpu__offload__service__daemon_8h.html#add71b2b1c0da610278462e830e29ea0d">failure_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="add71b2b1c0da610278462e830e29ea0da510bbee19faf3198361bfe5da72f3ca2"></a>FAILURE_MODE_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="add71b2b1c0da610278462e830e29ea0dafec1fdd3d5712f9caef4a5d384c37dc4"></a>FAILURE_MODE_SEND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="add71b2b1c0da610278462e830e29ea0da5fd19af4eafe6659fb86970cb05a9e87"></a>FAILURE_MODE_RECV&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="add71b2b1c0da610278462e830e29ea0da49223a22d2488fa3794c46c123c1482b"></a>FAILURE_MODE_KEEPALIVE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae7f8472010129e59c70487e739f61509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7f8472010129e59c70487e739f61509">&#9670;&nbsp;</a></span>all_service_procs_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool all_service_procs_connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c848b5937cc663260126f96c91f0213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c848b5937cc663260126f96c91f0213">&#9670;&nbsp;</a></span>broadcast_group_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> broadcast_group_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>group_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function sends the cache entries for the local ranks of a group to all other DPUs but only if all DPUs are connected, otherwise the broadcast would be incomplete. Remember that all DPU daemons and ranks are initiating connections independently and in parallel, there is not way to predict whether the local ranks will be fully connected before all the DPUs, or the opposite. In other words, when calling the function, it is possible that it would not be possible to perform the broadcast right away. The function checks whether the broadcast can be performed before trying to send the cache. In other words, the broadcast is not initiated if all the DPUs are not locally connected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine</td><td>Current offloading engine </td></tr>
    <tr><td class="paramname"><a class="el" href="structgroup__id.html">group_id</a></td><td>ID of the group to broadcast. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="af2b45a31c97a0fc8deccabb2a5290934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b45a31c97a0fc8deccabb2a5290934">&#9670;&nbsp;</a></span>client_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void client_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> **&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>client_fini finalizes an execution context that is being used as a client. Practically, a termination message is sent to the associated server (if any) vi a notification and the function will block until the notification completes. Then the object is entirely freed. In other words, upon returning from the function, the execution context is guaranteed to have been terminated, completely freed and the potential associated server notified of the termination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>Pointer of pointer to the execution to finalize. Upon success the execution context is set to NULL so it cannot be used any longer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada3bf532faf38b7e435cc3d415873d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada3bf532faf38b7e435cc3d415873d61">&#9670;&nbsp;</a></span>client_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a>* client_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>offload_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a42c35bf5c92dc98cf22a4818b0331608">init_params_t</a> *&#160;</td>
          <td class="paramname"><em>init_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>client_init creates and returns a new execution context object that can later on be used as a client. Trying to use it as a server is invalid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">engine</td><td>Pointer to the engine in the context of which we need to create the client execution context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="structinit__params.html">init_params</a></td><td>Initialization parameters to use during the creation of the client execution context; can be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution_context_t* Pointer to the new execution context or NULL in case of error.</dd></dl>
<p>client_init creates and returns a new execution context object that can later on be used as a client. Trying to use it as a server is invalid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offload_engine</td><td>offloading engine the client is associated with. </td></tr>
    <tr><td class="paramname"><a class="el" href="structinit__params.html">init_params</a></td><td>Handle gathering all the initialization parameters that can be customized by the caller. Can be NULL to use defaults. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution_context_t* </dd></dl>

</div>
</div>
<a id="a03b749bfa0f93af078b1a241de3ff28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b749bfa0f93af078b1a241de3ff28a">&#9670;&nbsp;</a></span>forward_cache_entry_to_local_sps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> forward_cache_entry_to_local_sps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a> *&#160;</td>
          <td class="paramname"><em>gp_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b16233c24e29ad253bd52b7deefb0b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b16233c24e29ad253bd52b7deefb0b0">&#9670;&nbsp;</a></span>get_cache_entry_by_group_rank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> get_cache_entry_by_group_rank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>gp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sp_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a576c274d9379aaaedee8b57db966cf7e">request_compl_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the dpu ID by host rank object. That ID can then be used to look up the corresponding endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">engine</td><td>Offloading engine for the query </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gp_id</td><td>Target group identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rank</td><td>Target rank in the group </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sp_idx</td><td>In case of multiple service processes per host, index of the target shadow service process for the group/rank </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cb</td><td>Associated callback. If the event completes right away, the callback is still being invoked. The user is in charge of returning the object related to the request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t</dd></dl>
<p>Example:</p><ul>
<li>To issue the request for the first service process attached to the group/rank <code>gp_id</code> and <code>rank_id</code> get_cache_entry_by_group_rank(offload_engine, gp_id, rank_id, 0, my_completion_cb);</li>
<li>Completion callback example: void my_completion_cb(void &lt;em&gt;data) { assert(data); cache_entry_request_t *cache_entry_req = (cache_entry_request_t)data; assert(cache_entry_req-&gt;offload_engine); offloading_engine_t <em>engine = (offloading_engine_t</em>)cache_entry_req-&gt;offload_engine; ucp_ep_h target_sp_ep = NULL; execution_context_t *target_sp_econtext = NULL; uint64_t notif_dest_id; get_sp_ep_by_id(engine, cache_entry_req-&gt;target_sp_idx, &amp;target_sp_econtext, &amp;target_sp_econtext, &amp;notif_dest_id); assert(target_sp_ep == NULL); DYN_LIST_RETURN(engine-&gt;free_cache_entry_requests, cache_entry_req, item); } </li>
</ul>

</div>
</div>
<a id="a7840a760be9d412387952227501dd14b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7840a760be9d412387952227501dd14b">&#9670;&nbsp;</a></span>get_local_service_proc_connect_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> get_local_service_proc_connect_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a7d930a5e992bf8d542cb50a0f11a6276">offloading_config_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a6846f687a61323898ab2f6903ca8766e">rank_info_t</a> *&#160;</td>
          <td class="paramname"><em>rank_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a42c35bf5c92dc98cf22a4818b0331608">init_params_t</a> *&#160;</td>
          <td class="paramname"><em>init_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a10d70272c1c34ed070381dc824f179d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d70272c1c34ed070381dc824f179d7">&#9670;&nbsp;</a></span>get_num_connecting_ranks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> get_num_connecting_ranks </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_service_procs_per_dpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n_local_ranks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sp_lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>n_ranks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a687e36319fed4161471477ffbeedcf34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687e36319fed4161471477ffbeedcf34">&#9670;&nbsp;</a></span>get_server_servicing_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> * get_server_servicing_host </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae4aff8e3c464f8b089d7975242f75bc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4aff8e3c464f8b089d7975242f75bc0">&#9670;&nbsp;</a></span>get_sp_ep_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> get_sp_ep_by_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucp_ep_h *&#160;</td>
          <td class="paramname"><em>sp_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> **&#160;</td>
          <td class="paramname"><em>econtext_comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>comm_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the service process endpoint by ID object, i.e., the identifier returned by get_sp_id_by_host_rank. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">engine</td><td>engine Offloading engine for the query </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Global service process identifier </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ucp_ep_h</td><td>DPU's endpoint to use to communicate with the target DPU </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">econtext_comm</td><td>The execution context to use for notification, must be used to get an event </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">notif_dest_id</td><td>The local identifier to send notification to the remote DPU </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="aa3dc37e5abbff121b300126cd9ccd010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3dc37e5abbff121b300126cd9ccd010">&#9670;&nbsp;</a></span>get_sp_id_by_group_rank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> get_sp_id_by_group_rank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>gp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sp_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>sp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> **&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the service process ID by host rank object. That ID can then be used to look up the corresponding endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">engine</td><td>Offloading engine for the query </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gp_id</td><td>Target group identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rank</td><td>Target rank in the group </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dpu_idx</td><td>In case of multiple service processes per host, index of the target shadow service process for the group/rank </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dpu_id</td><td>Resulting service process identifier </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ev</td><td>Associated event. If NULL, the DPU identifier is available right away. If not, it is required to call the function again once the event has completed. The caller is in charge of returning the event after completion. The event cannot be added to any list since it is already put on a list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="af06f8a0c90607ebea8c425de3b0fb06e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af06f8a0c90607ebea8c425de3b0fb06e">&#9670;&nbsp;</a></span>group_cache_populated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool group_cache_populated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>gp_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adfad4821e936b3f3760a01cd2355b7c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfad4821e936b3f3760a01cd2355b7c7">&#9670;&nbsp;</a></span>inter_dpus_connect_mgr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> inter_dpus_connect_mgr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a7d930a5e992bf8d542cb50a0f11a6276">offloading_config_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ababa1a6787751964f2e3bf4fb2cbc63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ababa1a6787751964f2e3bf4fb2cbc63e">&#9670;&nbsp;</a></span>is_in_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_in_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abce0d54f5f8f4c5440cd524a574ad8eb">cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>gp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>rank_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>group_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4e7f8fb73b9bc3e73bb3cb6351ea09b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e7f8fb73b9bc3e73bb3cb6351ea09b">&#9670;&nbsp;</a></span>lib_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> lib_progress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Progress the entrie library, i.e., all the engines and execution contexts, based on an execution context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">econtext</td><td>Execution context from which to start progressing the entire library. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="aede8b21a0dc08753ab3ce82e868659f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede8b21a0dc08753ab3ce82e868659f3">&#9670;&nbsp;</a></span>LOCAL_ID_TO_GLOBAL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t LOCAL_ID_TO_GLOBAL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>local_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9953edc063b6380e3f06c031d6cda7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9953edc063b6380e3f06c031d6cda7a">&#9670;&nbsp;</a></span>local_rank_connect_default_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void local_rank_connect_default_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>callback that servers (service processes acting as servers) on DPUs can set (server-&gt;connected_cb) to have implicit management of caches, especially when all the ranks of the group are on the local host. In such a situation, it will be detected when the last ranks connects, the group cache therefore completes and the cache is then sent back to local ranks. </p>

</div>
</div>
<a id="a581d1765c57e7cf80d25d267a4bbcf82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a581d1765c57e7cf80d25d267a4bbcf82">&#9670;&nbsp;</a></span>offload_config_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void offload_config_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a7d930a5e992bf8d542cb50a0f11a6276">offloading_config_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a974177eef28e5dcdd6be1f88d0aa5c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a974177eef28e5dcdd6be1f88d0aa5c56">&#9670;&nbsp;</a></span>offload_engine_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void offload_engine_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> **&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9801a3eb984a376ade72d8a645babb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9801a3eb984a376ade72d8a645babb9e">&#9670;&nbsp;</a></span>offload_engine_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> offload_engine_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> **&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab1fe819ca6e425c029b86a8f08818f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1fe819ca6e425c029b86a8f08818f17">&#9670;&nbsp;</a></span>offload_engine_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> offload_engine_progress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>offload_engine_progress progresses the entire offloading engine, i.e., all the associated execution context. It is for instance used to progress all communications between DPUs and ensure completions of ongoing communications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">engine</td><td>The offloading engine to progress </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="a852144410c8c918748a57a3897decdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852144410c8c918748a57a3897decdc6">&#9670;&nbsp;</a></span>send_add_group_rank_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> send_add_group_rank_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucp_ep_h&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ace43102d89f04437d5e6f942957ae5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace43102d89f04437d5e6f942957ae5c5">&#9670;&nbsp;</a></span>send_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> send_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abce0d54f5f8f4c5440cd524a574ad8eb">cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucp_ep_h&#160;</td>
          <td class="paramname"><em>dest_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *&#160;</td>
          <td class="paramname"><em>meta_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send_cache sends the content of the local endpoint cache to a specific remote endpoint. This is a non-blocking operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">econtext</td><td>Current execution context </td></tr>
    <tr><td class="paramname">cache</td><td>Endpoint cache to be sent </td></tr>
    <tr><td class="paramname">dest_ep</td><td>Endpoint destination </td></tr>
    <tr><td class="paramname">meta_event</td><td>Event used to track completion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t DO_SUCCESS for success; DO_ERROR if any error occurs </dd></dl>

</div>
</div>
<a id="a40d1309dab51e9eb9223f3b5c26ede6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d1309dab51e9eb9223f3b5c26ede6e">&#9670;&nbsp;</a></span>send_gp_cache_to_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> send_gp_cache_to_host </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>group_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7742e4694eb2d7cf5c31da86f16e3cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7742e4694eb2d7cf5c31da86f16e3cb4">&#9670;&nbsp;</a></span>send_group_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__common_8h.html#a2f49d8c1f5f6182b5128dfd3c815c3ef">dpu_offload_status_t</a> send_group_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> *&#160;</td>
          <td class="paramname"><em>econtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ucp_ep_h&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a01af586ce7b042c7131b9dff27ace5ca">group_id_t</a>&#160;</td>
          <td class="paramname"><em>gp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a5872fe6516c1dd159957efdfabc9ad2a">dpu_offload_event_t</a> *&#160;</td>
          <td class="paramname"><em>metaev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send group cache to a specific destination, mainly used to send the cache back to the local ranks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">econtext</td><td></td></tr>
    <tr><td class="paramname">dest</td><td></td></tr>
    <tr><td class="paramname">gp_id</td><td></td></tr>
    <tr><td class="paramname">metaev</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dpu_offload_status_t </dd></dl>

</div>
</div>
<a id="a949a12a76368d6bf6b3242eb2a04a2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949a12a76368d6bf6b3242eb2a04a2c3">&#9670;&nbsp;</a></span>server_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void server_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a> **&#160;</td>
          <td class="paramname"><em>exec_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab07bde402553cc60ac536d085b3623b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07bde402553cc60ac536d085b3623b3">&#9670;&nbsp;</a></span>server_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpu__offload__types_8h.html#ac95b2624b57c0005e3ca8a740316e5ab">execution_context_t</a>* server_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#abdda2bc51909d3f2e98a5c9dde42b0a8">offloading_engine_t</a> *&#160;</td>
          <td class="paramname"><em>offloading_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dpu__offload__types_8h.html#a42c35bf5c92dc98cf22a4818b0331608">init_params_t</a> *&#160;</td>
          <td class="paramname"><em>init_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a connection server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structoffloading__engine.html">offloading_engine</a></td><td>Associated offloading engine. </td></tr>
    <tr><td class="paramname"><a class="el" href="structconn__params.html">conn_params</a></td><td>Connection parameters, e.g., port to use to listen for connections. If NULL, the configuration will be pulled from environment variables. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution_context_t* </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
